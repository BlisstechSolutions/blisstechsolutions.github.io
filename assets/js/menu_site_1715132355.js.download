var menu_app=function(){function e(e){if(this.status&&200==this.status){var _=JSON.parse(this.responseText),g=$D.getByDataId(e.element_id);g.innerHTML=_.content,_.is_deleted?g.setAttribute("data-deleted","true"):_.menu_id&&g.setAttribute("data-menu-id",_.menu_id);var m=$D.get("."+a,g),c=t(g,"type");if(m){$D.addClass(m,p+c),$D.addClass(m,o+t(g,"align")),$D.addClass(m,u+t(g,c+"_style"));for(var b=$D.getAll(i,g),z=0;z<b.length;z++)$D.addClass(b[z],r+t(g,"sublist_position")),$D.addClass(b[z],d+t(g,"sublist_align"));var v=$D.get("."+l,g);v&&(v.innerText=t(g,"menu_label")),JSON.parse(t(g,"heading_toggle"))||("canvas"===window.zs_rendering_mode?$D.addClass(m,n):v.remove()),JSON.parse(t(g,"hide_submenu_toggle"))||$D.addClass(m,s);var f=t(g,"tag"),D=$D.get("."+l,g);if(f!=D.tagName.toLowerCase()){var $;$=null===f?document.createElement("h4"):document.createElement(f);for(var h=0;h<D.attributes.length;h++)$.setAttribute(D.attributes[h].name,D.attributes[h].value);$.innerHTML=D.innerHTML,D.parentNode.replaceChild($,D)}}e.data.loaded()}}function t(e,t){var i=e.getAttribute("data-"+t);return i&&i.trim()}var i=".zplink-list-container > .zplink-list > .zplink-sublist-container",a="zplink-element-container",n="zplink-heading-disable",s="zplink-submenu-disable",r="zplink-sublist-from-",d="zplink-sublist-align-",l="zplink-heading",u="zplink-iconstyle-",o="zplink-align-",p="zplink-type-";return{init:function(t,i){var a={};a.element_id=t.getAttribute("data-element-id"),"undefined"!=typeof zs_resource_id&&(a.resource_id=zs_resource_id),"undefined"!=typeof zs_site_resource_id&&(a.site_resource_id=zs_site_resource_id);var n={};n.appCont=t,n.data=i,n.element_id=t.getAttribute("data-element-id"),$X.get({url:"/siteapps/menu",params:a,args:n,handler:e})}}}();